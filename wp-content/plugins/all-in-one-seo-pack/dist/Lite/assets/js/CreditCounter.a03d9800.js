import{d as V,a as h,h as m,c as l,b as S,u as E,t as U,j as M}from"./index.681f720c.js";import{h as k,n as F}from"./SchemaStore.3c45ce4c.js";import{_ as t,s as y}from"./default-i18n.20001971.js";import{D as T}from"./datetime.f197aeae.js";import{_ as I}from"./Caret.202f7c21.js";import{C as N}from"./Tooltip.418c677c.js";import{_ as D}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as p,c as g,D as R,f as w,x,a as d,H as L,K as O,t as u,l as q,m as A,b as v,G as B,N as G,y as K,A as Y}from"./runtime-dom.esm-bundler.5d5e6b71.js";import{S as Z}from"./index.e5bcd650.js";import"./translations.d159963e.js";const Lt=V("AiStore",{state:()=>({faqs:{tone:"",audience:""},keyPoints:{tone:"",audience:""},socialPosts:{tone:"",audience:"",selected:[]},metaTitle:{tone:"",audience:""},metaDescription:{tone:"",audience:""},isModalOpened:null}),getters:{isFreeAndOutOfCredits:e=>{var n;const i=h();return!(!i.internalOptions.internal.ai.isTrialAccessToken||e.isModalOpened||1<((n=i.internalOptions.internal.ai.credits)==null?void 0:n.remaining))}},actions:{storeAccessToken(e){const i=h();return i.internalOptions.internal.ai.accessToken=e,m.post(l.restUrl("ai/auth")).send({accessToken:e}).then(n=>{if(n.body.error){console.error(n.body.error);return}const o=h();return o.internalOptions.internal.ai=n.body.aiOptions,n})},getCredits(e=!1){return m.post(l.restUrl("ai/credits")).send({refresh:e}).then(i=>{if(i.body.error){console.error(i.body.error);return}const n=h();return n.internalOptions.internal.ai=i.body.aiOptions,i})},generateSocialPosts(){const e=S(),i=this.socialPosts.selected.map(n=>n.slug);return m.post(l.restUrl("ai/social-posts")).send({postId:e.currentPost.id,postContent:k(),permalink:F(),options:{media:i,tone:this.socialPosts.tone,audience:this.socialPosts.audience}}).then(n=>{if(n.body.error){console.error(n.body.error);return}const o=S();o.currentPost.ai.socialPosts=n.body.snippets;const c=h();return c.internalOptions.internal.ai=n.body.aiOptions,n})},generateFaqs(e=!1){const i=S();return m.post(l.restUrl("ai/faqs")).send({postId:i.currentPost.id,postContent:k(),options:{tone:this.faqs.tone,audience:this.faqs.audience},rephrase:e,faqs:i.currentPost.ai.faqs}).then(n=>{if(n.body.error)return console.error(n.body.error),Promise.reject(n.body.error);i.currentPost.ai.faqs=n.body.faqs;const o=h();return o.internalOptions.internal.ai=n.body.aiOptions,n})},generateKeyPoints(e=!1){const i=S();return m.post(l.restUrl("ai/key-points")).send({postId:i.currentPost.id,postContent:k(),options:{tone:this.keyPoints.tone,audience:this.keyPoints.audience},rephrase:e,keyPoints:i.currentPost.ai.keyPoints}).then(n=>{if(n.body.error){console.error(n.body.error);return}i.currentPost.ai.keyPoints=n.body.keyPoints;const o=h();return o.internalOptions.internal.ai=n.body.aiOptions,n})},generateMetaTitles(e=!1){const i=S(),n=i.currentPost.keyphrases.focus.keyphrase;return m.post(l.restUrl("ai/meta/title")).send({postId:i.currentPost.id,postContent:k(),focusKeyword:n,options:{tone:this.metaTitle.tone,audience:this.metaTitle.audience},rephrase:e,titles:i.currentPost.ai.titles}).then(o=>{if(o.body.error)return Promise.reject(o.body.error);i.currentPost.ai.titles=o.body.titles;const c=h();return c.internalOptions.internal.ai=o.body.aiOptions,o})},generateMetaDescriptions(e=!1){const i=S(),n=i.currentPost.keyphrases.focus.keyphrase;return m.post(l.restUrl("ai/meta/description")).send({postId:i.currentPost.id,postContent:k(),focusKeyword:n,options:{tone:this.metaDescription.tone,audience:this.metaDescription.audience},rephrase:e,descriptions:i.currentPost.ai.descriptions}).then(o=>{if(o.body.error)return Promise.reject(o.body.error);i.currentPost.ai.descriptions=o.body.descriptions;const c=h();return c.internalOptions.internal.ai=o.body.aiOptions,o})},addFaq(e){this.faqData.faqs.push(e)},removeFaq(e){this.faqData.faqs=this.faqData.faqs.filter(i=>i.id!==e.id)},addKeyPoint(e){this.keyPointsData.keyPoints.push(e)},removeKeyPoint(e){this.keyPointsData.keyPoints=this.keyPointsData.keyPoints.filter(i=>i.id!==e.id)},formatFaqs(){let e="";return this.faqData.faqs.forEach(i=>{e+=`Q: ${i.question}
A: ${i.answer}

`}),e},formatKeyPoints(){let e="";return this.keyPointsData.keyPoints.forEach(i=>{e+=`${i.title}
 ${i.explanation}

`}),e},deactivate(){return m.post(l.restUrl("ai/deactivate")).send().then(e=>{var n;if(!e.body.success)throw new Error(e.body.message);const i=h();return(n=e==null?void 0:e.body)!=null&&n.aiData&&(i.internalOptions.internal.ai=e.body.aiData),e})}}}),r="all-in-one-seo-pack",Tt=()=>{const e=E(),i=h(),n=[{value:"analytical",label:t("Analytical",r)},{value:"concise",label:t("Concise",r)},{value:"empathetic",label:t("Empathetic",r)},{value:"friendly",label:t("Friendly",r)},{value:"formal",label:t("Formal",r)},{value:"humorous",label:t("Humorous",r)},{value:"informal",label:t("Informal",r)},{value:"informative",label:t("Informative",r)},{value:"motivational",label:t("Motivational",r)},{value:"neutral",label:t("Neutral",r)},{value:"persuasive",label:t("Persuasive",r)},{value:"playful",label:t("Playful",r)},{value:"professional",label:t("Professional",r)},{value:"serious",label:t("Serious",r)},{value:"storytelling",label:t("Storytelling",r)},{value:"urgent",label:t("Urgent",r)}],o=[{value:"academic",label:t("Academic",r)},{value:"beginners-novices",label:t("Beginners & Novices",r)},{value:"business",label:t("Business",r)},{value:"creative-artistic",label:t("Creative & Artistic",r)},{value:"educational",label:t("Educational",r)},{value:"general",label:t("General",r)},{value:"parents-families",label:t("Parents & Families",r)},{value:"technical",label:t("Technical",r)}],c=[{label:t("High",r),value:"high"},{label:t("Medium",r),value:"medium"},{label:t("Low",r),value:"low"}],s=[{label:t("Auto",r),value:"auto"},{label:t("3D Render",r),value:"3d-render"},{label:t("Cinematic",r),value:"cinematic"},{label:t("Creative",r),value:"creative"},{label:t("Illustration",r),value:"illustration"},{label:t("Minimalist",r),value:"minimalist"},{label:t("Stock Photo",r),value:"stock-photo"},{label:t("Vibrant",r),value:"vibrant"}],f=[{label:t("Landscape (3:2)",r),value:"landscape"},{label:t("Portrait (2:3)",r),value:"portrait"},{label:t("Square (1:1)",r),value:"square"}],b={credits:t("Credits",r),alertDescription:y(t('You can manage your default settings under <a href="%1$s" target="_blank" rel="noopener noreferrer">General Settings > AI Content</a>.',r),e.aioseo.urls.aio.settings+"/#ai-content"),audience:t("Audience",r),tone:t("Tone",r),imageQuality:t("Quality",r),imageStyle:t("Style",r),imageAspectRatio:t("Aspect Ratio",r),somethingWrong:t("We ran into an error. Please try again or contact support if it persists.",r)};return{audienceOptions:o,hasEnoughCredits:C=>i.internalOptions.internal.ai.credits.remaining>=C,imageAspectRatioOptions:f,imageQualityOptions:c,imageStyleOptions:s,loadingText:C=>y(t("Loading %1$s Content",r),C),strings:b,toneOptions:n}},Q={},j={class:"aioseo-ai-credits",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},z=R('<path d="M4 18V10V10.325V6V18ZM4 8H20V6H4V8ZM11.575 20H4C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V11.325C21.4167 10.9083 20.7792 10.5833 20.0875 10.35C19.3958 10.1167 18.6667 10 17.9 10C16.95 10 16.0542 10.1792 15.2125 10.5375C14.3708 10.8958 13.6333 11.3833 13 12H4V18H10.975C11.025 18.35 11.1 18.6917 11.2 19.025C11.3 19.3583 11.425 19.6833 11.575 20Z" fill="url(#paint0_linear_214_19291)"></path><path d="M21.9502 12.7273V20H20.4126V12.7273H21.9502Z" fill="#3262F2"></path><path d="M14.1856 20H12.5378L15.0485 12.7273H17.03L19.5371 20H17.8894L16.0677 14.3892H16.0109L14.1856 20ZM14.0826 17.1414H17.9746V18.3416H14.0826V17.1414Z" fill="#3262F2"></path><defs><linearGradient id="paint0_linear_214_19291" x1="2" y1="12" x2="22" y2="12" gradientUnits="userSpaceOnUse"><stop stop-color="#4E17CF"></stop><stop offset="1" stop-color="#3064F3"></stop></linearGradient></defs>',4),J=[z];function W(e,i){return p(),g("svg",j,J)}const X=D(Q,[["render",W]]),a="all-in-one-seo-pack",$={setup(){const e=Y(),i=E(),n=h(),o=f=>{const b=T.fromMillis(f.expires*1e3),_=U(b.toJSDate(),i.aioseo.data.dateFormat);return y(t("%1$s credits will expire on %2$s.",a),parseInt(f.remaining).toLocaleString(),_)},c=w(()=>{var _,P;if(i.aioseo.data.isNetworkLicensed)return t("These credits will reset when your license renews. Your license details can be found in the Network Admin area.",a);const f=T.fromMillis(((P=(_=n.internalOptions.internal)==null?void 0:_.license)==null?void 0:P.expires)*1e3),b=U(f.toJSDate(),i.aioseo.data.dateFormat);return y(t("These credits will reset when your license renews on %1$s.",a),b)}),s=w(()=>n.internalOptions.internal.ai.isTrialAccessToken?t("Trial Credits",a):t("Credits",a));return{app:e,licenseStore:M(),optionsStore:n,rootStore:i,links:l,DateTime:T,orderExpiration:o,licenseExpiration:c,creditsText:s}},components:{BaseButton:I,CoreTooltip:N,SvgAiCredits:X,SvgCircleQuestionMark:Z},props:{parentComponentContext:{type:String,default:"metabox"},isSettingsPage:{type:Boolean,default:!1},tooltipOffset:String,tooltipPlacement:String},data(){return{strings:{creditsLinksLite:y(t("To unlock additional credits, %1$s or %2$s.",a),`<a href="${l.getUpsellUrl("ai-content","credit-counter","liteUpgrade")}" target="_blank">${t("upgrade to Pro",a)}</a>`,`<a href="${l.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go bundle",a)}</a>`),creditsLinksPro:y(t("To unlock additional credits, %1$s or %2$s.",a),`<a href="${l.getUpsellUrl("ai-content","credit-counter","proUpgrade")}" target="_blank">${t("upgrade to higher plan",a)}</a>`,`<a href="${l.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go bundle",a)}</a>`),creditsLinksElite:y(t("To unlock additional credits, %1$s.",a),`<a href="${l.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${t("purchase a Pay-As-You-Go bundle",a)}</a>`),buyCredits:t("Buy Credits",a),paygCredits:t("PAYG AI Credits",a)}}},computed:{parsedTooltipOffset(){return this.tooltipOffset||(this.app.root.data.screenContext==="sidebar"&&this.parentComponentContext==="metabox"?"10px,0":"50px,0")},parsedTooltipPlacement(){return this.tooltipPlacement||(this.app.root.data.screenContext==="sidebar"&&this.parentComponentContext==="metabox"?"left":"right")},planLevel(){return this.licenseStore.isUnlicensed?"":this.optionsStore.internalOptions.internal.license.level},planCredits(){let e=this.planLevel;return this.rootStore.aioseo.data.isNetworkLicensed&&(e="Elite"),e?(e=e.charAt(0).toUpperCase()+e.slice(1),y(t("%1$s Plan AI Credits",a),e)):""},oldestOrdersFirst(){return this.optionsStore.internalOptions.internal.ai.credits.orders.sort((i,n)=>i.expires-n.expires)},orderRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((e,i)=>e+parseInt(i.remaining),0).toLocaleString()},orderTotal(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((e,i)=>e+parseInt(i.total),0).toLocaleString()},licenseRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.license.remaining.toLocaleString()},licenseTotal(){return this.optionsStore.internalOptions.internal.ai.credits.license.total.toLocaleString()},getCreditsLinks(){var e,i;return this.rootStore.aioseo.data.isNetworkLicensed&&!this.optionsStore.internalOptions.internal.license.level?this.strings.creditsLinksElite:!this.rootStore.isPro||!this.licenseStore.license.isActive?this.strings.creditsLinksLite:((i=(e=this.optionsStore.internalOptions.internal.license)==null?void 0:e.level)==null?void 0:i.toLowerCase())==="elite"?this.strings.creditsLinksElite:this.strings.creditsLinksPro}}},tt={class:"aioseo-ai-credit-counter"},et={class:"counter-container-wrapper"},it={class:"counter-container"},nt={key:0,class:"aioseo-ai-credit-counter-license"},rt={class:"credit-heading"},ot={class:"counter"},st={class:"license-expiration"},at={key:1},lt={key:2,class:"aioseo-ai-credit-counter-orders"},ct={class:"credit-heading"},dt={class:"counter"},ut={class:"credit-orders"},pt={key:0,class:"purchase-credits"},ht=["href"],ft={key:0,class:"purchase-credits"},gt=["innerHTML"];function mt(e,i,n,o,c,s){const f=x("svg-ai-credits"),b=x("svg-circle-question-mark"),_=x("core-tooltip"),P=x("base-button");return p(),g("div",tt,[d("div",et,[L(f),d("div",it,[d("div",{class:O(["counter",{"counter-sidebar":o.app.root.data.screenContext==="sidebar"}])},[d("span",{class:O({"credit-count":!0,"low-credits":o.optionsStore.aiCreditPercentage<=20})},u(o.optionsStore.internalOptions.internal.ai.credits.remaining.toLocaleString())+" / "+u(o.optionsStore.internalOptions.internal.ai.credits.total.toLocaleString())+" "+u(o.creditsText),3),!o.optionsStore.internalOptions.internal.ai.isTrialAccessToken&&(o.optionsStore.internalOptions.internal.ai.credits.orders.length>0||o.optionsStore.internalOptions.internal.ai.credits.license.total>0)?(p(),q(_,{key:0,offset:s.parsedTooltipOffset,placement:s.parsedTooltipPlacement},{tooltip:A(()=>[o.optionsStore.internalOptions.internal.license&&o.optionsStore.internalOptions.internal.ai.credits.license.total>0?(p(),g("div",nt,[d("span",rt,u(s.planCredits),1),d("div",ot,[L(f),d("span",{class:O({"credit-count":!0,"low-credits":s.licenseRemaining/s.licenseTotal>20})},u(s.licenseRemaining)+" / "+u(s.licenseTotal),3)]),d("span",st,u(o.licenseExpiration),1)])):v("",!0),o.optionsStore.internalOptions.internal.license&&o.optionsStore.internalOptions.internal.ai.credits.license.total>0&&o.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(p(),g("hr",at)):v("",!0),o.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(p(),g("div",lt,[d("span",ct,u(c.strings.paygCredits),1),d("div",dt,[L(f),d("span",{class:O({"credit-count":!0,"low-credits":s.orderRemaining/s.orderTotal>20})},u(s.orderRemaining)+" / "+u(s.orderTotal),3)]),d("div",ut,[(p(!0),g(B,null,G(s.oldestOrdersFirst,(C,H)=>(p(),g("span",{key:H,class:"credit-order"},u(o.orderExpiration(C)),1))),128))])])):v("",!0)]),default:A(()=>[L(b)]),_:1},8,["offset","placement"])):v("",!0)],2),n.isSettingsPage?v("",!0):(p(),g("div",pt,[o.optionsStore.aiCreditPercentage<=20?(p(),q(P,{key:0,class:O({"aioseo-ai-content-settings-button":n.isSettingsPage}),size:n.isSettingsPage?"medium":"small",type:"green",tag:"a",href:o.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"_blank"},{default:A(()=>[K(u(c.strings.buyCredits),1)]),_:1},8,["class","size","href"])):(p(),g("a",{key:1,class:"buy-credits",href:o.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"__blank"},u(c.strings.buyCredits),9,ht))]))])]),n.isSettingsPage?(p(),g("div",ft,[d("p",{innerHTML:s.getCreditsLinks},null,8,gt)])):v("",!0)])}const At=D($,[["render",mt]]);export{At as C,Tt as a,Lt as u};
